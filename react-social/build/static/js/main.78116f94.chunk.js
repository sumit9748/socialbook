(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[0],{140:function(e,t,s){},146:function(e,t,s){},147:function(e,t,s){},149:function(e,t,s){},168:function(e,t,s){},169:function(e,t,s){},170:function(e,t,s){},171:function(e,t,s){},172:function(e,t,s){},173:function(e,t,s){},174:function(e,t,s){},175:function(e,t,s){},176:function(e,t,s){},177:function(e,t,s){},178:function(e,t,s){},179:function(e,t,s){},180:function(e,t,s){},181:function(e,t,s){},182:function(e,t,s){},187:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(48),r=s.n(n),i=s(4),l=s(21),o=(s(140),s(103)),u=s.n(o),j=s(69),d=s.n(j),b=s(104),p=s.n(b),h=s(105),O=s.n(h),m=s(99),x=s.n(m),f=s(22),v=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:!0};case"FOLLOW":return Object(f.a)(Object(f.a)({},e),{},{user:Object(f.a)(Object(f.a)({},e.user),{},{followings:[].concat(Object(l.a)(e.user.followings),[t.payload])})});case"UNFOLLOW":return Object(f.a)(Object(f.a)({},e),{},{user:Object(f.a)(Object(f.a)({},e.user),{},{followings:e.user.followings.filter((function(e){return e!==t.payload}))})});case"UPDATE_USER":return Object(f.a)(Object(f.a)({},e),{},{user:Object(f.a)(Object(f.a)({},e.user),t.payload)});default:return e}},g=s(0),N={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},I=Object(a.createContext)(N),w=function(e){var t=e.children,s=Object(a.useReducer)(v,N),c=Object(i.a)(s,2),n=c[0],r=c[1];return Object(a.useEffect)((function(){localStorage.setItem("user",JSON.stringify(n.user))}),[n.user,n.message]),Object(g.jsx)(I.Provider,{value:{user:n.user,isFetching:n.isFetching,error:n.error,dispatch:r},children:t})},k=s(13),y=s(18);function C(e){var t=e.text,s=e.setText,c=e.socket,n=Object(a.useContext)(I).user,r=Object(a.useState)([]),o=Object(i.a)(r,2),j=o[0],b=o[1],h=Object(a.useState)(!1),m=Object(i.a)(h,2),f=m[0],v=m[1],N=Object(k.g)();Object(a.useEffect)((function(){var e;null===c||void 0===c||null===(e=c.current)||void 0===e||e.on("getNotification",(function(e){b((function(t){return[].concat(Object(l.a)(t),[e])}))}))}),[c]);var w="http://localhost:8000/images/";return Object(g.jsxs)("div",{className:"topbar-container",children:[Object(g.jsx)("div",{className:"topbarLeft",children:Object(g.jsx)(y.b,{to:"/",style:{textDecoration:"none"},children:Object(g.jsx)("span",{className:"logo",children:"SocialBook"})})}),Object(g.jsx)("div",{className:"topbarCenter",children:Object(g.jsxs)("div",{className:"searchbar",children:[Object(g.jsx)(x.a,{className:"searchIcon"}),Object(g.jsx)("input",{placeholder:"search for posts",value:t,className:"searchInput",onChange:function(e){return s(e.target.value)}})]})}),Object(g.jsxs)("div",{className:"topbarRight",children:[Object(g.jsxs)("div",{className:"topbarLinks",children:[Object(g.jsx)(y.b,{to:"/",style:{linkStyle:"none",textDecoration:"none",color:"white"},children:Object(g.jsx)("span",{className:"topbarLink",children:"Home"})}),Object(g.jsx)("span",{className:"topbarLink",children:"TimeLine"})]}),Object(g.jsx)("div",{className:"topbarIcons",children:Object(g.jsx)(y.b,{to:"/searchUser",children:Object(g.jsxs)("div",{className:"topbarIconItem",children:[Object(g.jsx)(u.a,{}),Object(g.jsx)("span",{className:"topbarIconBadge",children:"1"})]})})}),Object(g.jsx)("div",{className:"topbarIcons",children:Object(g.jsxs)("div",{className:"topbarIconItem",children:[Object(g.jsx)(y.b,{style:{linkStyle:"none",textDecoration:"none",color:"white"},to:"/messenger/".concat(n._id),children:Object(g.jsx)(d.a,{className:"chatIcon"})}),Object(g.jsx)("span",{className:"topbarIconBadge",children:"1"})]})}),Object(g.jsx)("div",{className:"topbarIcons",children:Object(g.jsxs)("div",{className:"topbarIconItem",children:[Object(g.jsx)(p.a,{onClick:function(){return v(!f)}}),j.length>0&&Object(g.jsx)("span",{className:"topbarIconBadge",children:j.length}),f&&Object(g.jsxs)("div",{className:"notifications",children:[j.map((function(e){return function(e){var t,s=e.senderName,a=e.type;return t=1===a?"liked":2===a?"loved":"shared",Object(g.jsx)("span",{className:"notification",children:"".concat(s," ").concat(t," your post.")})}(e)})),Object(g.jsx)("button",{className:"nButton",onClick:function(){b([]),v(!1)},children:"Mark as read"})]})]})}),Object(g.jsx)("div",{className:"topbarIcons",children:Object(g.jsx)("div",{className:"topbarIconItem",children:Object(g.jsx)(O.a,{onClick:function(e){e.preventDefault(),localStorage.clear(),N.push("/login"),window.location.reload()}})})}),Object(g.jsx)(y.b,{to:"/profile/".concat(n._id),children:Object(g.jsx)("img",{src:n.profilePicture?w+n.profilePicture:w+"search.png",alt:"",className:"topbarImg"})})]})]})}s(146);var S=s(106),L=s.n(S),U=s(107),_=s.n(U),P=s(108),T=s.n(P),F=s(109),R=s.n(F),B=s(110),E=s.n(B),D=s(111),A=s.n(D),W=s(112),V=s.n(W),M=s(113),q=s.n(M),G=[{id:1,profilePicture:"sumit.jpg",username:"Sumit Mondal"},{id:2,profilePicture:"soumita.jpg",username:"Soumita Mondal"},{id:3,profilePicture:"bag.jpg",username:"Subhadip Bag"},{id:4,profilePicture:"suvo.jpg",username:"Subhajit Bhukta"},{id:5,profilePicture:"palash.jpg",username:"Palash Majhi"},{id:6,profilePicture:"pokai.jpg",username:"Sumit Dhara"},{id:7,profilePicture:"langta.jpg",username:"Soumalya Bhakta"}];s(147);function K(e){var t=e.user;return Object(g.jsxs)("li",{className:"sidebarFriend",children:[Object(g.jsx)("img",{src:"http://localhost:8000/images/"+t.profilePicture,alt:"",className:"sidebarFriendImg"}),Object(g.jsx)("span",{className:"sidebarFriendName",children:t.username})]})}function H(){var e=function(e){"courses"!==e?window.open("https://www.youtube.com/results?search_query=".concat(e),"_blank"):window.open("https://www.youtube.com/c/AdityaVermaTheProgrammingLord/playlists","_blank")};return Object(g.jsx)("div",{className:"leftbar",children:Object(g.jsxs)("div",{className:"sidebarWrapper",children:[Object(g.jsxs)("ul",{className:"sidebarList",children:[Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("stack")},children:[Object(g.jsx)(L.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Stack"})]}),Object(g.jsx)(y.b,{to:"/messenger",children:Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("queue")},children:[Object(g.jsx)(d.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Queue"})]})}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("videos")},children:[Object(g.jsx)(_.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Videos"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("array")},children:[Object(g.jsx)(T.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Array"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("linkedlist")},children:[Object(g.jsx)(R.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"LinkedList"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("binarysearch")},children:[Object(g.jsx)(E.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"BinarySearch"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("tree")},children:[Object(g.jsx)(A.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Tree"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("heap")},children:[Object(g.jsx)(V.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Heap"})]}),Object(g.jsxs)("li",{className:"sidebarListItem",onClick:function(){return e("courses")},children:[Object(g.jsx)(q.a,{className:"sidebarIcon"}),Object(g.jsx)("span",{className:"sidebarListItemText",children:"Courses"})]})]}),Object(g.jsx)("button",{className:"sidebarButton",children:"Show More"}),Object(g.jsx)("hr",{className:"sidebarHr"}),Object(g.jsx)("ul",{className:"sidebarFriendList",children:G.map((function(e){return Object(g.jsx)(K,{user:e},e.id)}))})]})})}var J=s(6),z=s.n(J),Q=s(9),Y=(s(149),s(7)),X=s.n(Y);s(168);function Z(e){var t=e.onlineUsers,s=e.currentId,c=e.setCurrentChat,n=Object(a.useState)([]),r=Object(i.a)(n,2),l=r[0],o=r[1],u=Object(a.useState)([]),j=Object(i.a)(u,2),d=j[0],b=j[1],p="http://localhost:8000/images/";Object(a.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.get("/users/friends/"+s);case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[s]),Object(a.useEffect)((function(){b(l.filter((function(e){return t.includes(e._id)})))}),[l,t]);var h=function(){var e=Object(Q.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/conversations/find/".concat(s,"/").concat(t._id));case 3:a=e.sent,c(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"chatOnline",children:d.map((function(e){return Object(g.jsxs)("div",{className:"chatOnlineFriend",onClick:function(){return h(e)},children:[Object(g.jsxs)("div",{className:"chatOnlineImgContainer",children:[Object(g.jsx)("img",{className:"chatOnlineImg",src:(null===e||void 0===e?void 0:e.profilePicture)?p+e.profilePicture:p+"person/noAvatar.png",alt:""}),Object(g.jsx)("div",{className:"chatOnlineBadge"})]}),Object(g.jsx)("span",{className:"chatOnlineName",children:null===e||void 0===e?void 0:e.username})]})}))})}var $=s(115),ee=s.n($),te=s(114),se=s.n(te);function ae(e){var t=e.user,s=e.socket,c="http://localhost:8000/images/",n=Object(a.useState)([]),r=Object(i.a)(n,2),l=r[0],o=r[1],u=Object(a.useContext)(I),j=u.user,d=u.dispatch,b=Object(a.useState)(null===j||void 0===j?void 0:j.followings.includes(null===t||void 0===t?void 0:t._id)),p=Object(i.a)(b,2),h=p[0],O=p[1];console.log(h);var m=Object(a.useState)([]),x=Object(i.a)(m,2),f=x[0],v=x[1];Object(a.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/users/friends/"+t._id);case 3:s=e.sent,o(s.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(a.useEffect)((function(){var e,t;null===s||void 0===s||null===(e=s.current)||void 0===e||e.emit("addUser",j._id),null===s||void 0===s||null===(t=s.current)||void 0===t||t.on("getUsers",(function(e){v(j.followings.filter((function(t){return e.some((function(e){return e.userId===t}))})))}))}),[j]);var N=function(){var e=Object(Q.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!h){e.next=7;break}return e.next=4,X.a.put("/users/unfollow/".concat(t._id),{userId:j._id});case 4:d({type:"UNFOLLOW",payload:t._id}),e.next=10;break;case 7:return e.next=9,X.a.put("/users/follow/".concat(t._id),{userId:j._id});case 9:d({type:"FOLLOW",payload:t._id});case 10:O(!h),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),w=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"birthdayContainer",children:[Object(g.jsx)("img",{className:"birthdayImg",src:"assets/birthday.png",alt:""}),Object(g.jsxs)("span",{className:"birthdayText",children:[Object(g.jsx)("b",{children:"Soumita Ganguly"})," and ",Object(g.jsx)("b",{children:"3 other friends"})," have a birhday today."]})]}),Object(g.jsx)("img",{className:"rightbarAd",src:"assets/shortcut-1.png",alt:""}),Object(g.jsx)("h4",{className:"rightbarTitle",children:"Online Friends"}),Object(g.jsx)("ul",{className:"rightbarFriendList",children:Object(g.jsx)(Z,{onlineUsers:f,currentId:j._id})})]})},k=function(){return Object(g.jsxs)(g.Fragment,{children:[t.username!==j.username&&Object(g.jsxs)("button",{className:"rightbarFollowButton",onClick:N,children:[h?"Unfollow":"Follow",h?Object(g.jsx)(se.a,{}):Object(g.jsx)(ee.a,{})]}),Object(g.jsx)("h4",{className:"rightbarTitle",children:"User information"}),Object(g.jsxs)("div",{className:"rightbarInfo",children:[Object(g.jsxs)("div",{className:"rightbarInfoItem",children:[Object(g.jsx)("span",{className:"rightbarInfoKey",children:"City:"}),Object(g.jsx)("span",{className:"rightbarInfoValue",children:t.city})]}),Object(g.jsxs)("div",{className:"rightbarInfoItem",children:[Object(g.jsx)("span",{className:"rightbarInfoKey",children:"From:"}),Object(g.jsx)("span",{className:"rightbarInfoValue",children:t.from})]}),Object(g.jsxs)("div",{className:"rightbarInfoItem",children:[Object(g.jsx)("span",{className:"rightbarInfoKey",children:"Relationship:"}),Object(g.jsx)("span",{className:"rightbarInfoValue",children:1===t.relationship?"Single":1===t.relationship?"Married":"-"})]})]}),Object(g.jsx)("h4",{className:"rightbarTitle",children:"User friends"}),Object(g.jsx)("div",{className:"rightbarFollowings",children:l.map((function(e){return Object(g.jsx)(y.b,{to:"/profile/"+e._id,style:{textDecoration:"none"},children:Object(g.jsxs)("div",{className:"rightbarFollowing",children:[Object(g.jsx)("img",{src:e.profilePicture?c+e.profilePicture:c+"search.png",alt:"",className:"rightbarFollowingImg"}),Object(g.jsx)("span",{className:"rightbarFollowingName",children:e.username})]})})}))})]})};return Object(g.jsx)("div",{className:"rightbar",children:Object(g.jsx)("div",{className:"rightbarWrapper",children:t?Object(g.jsx)(k,{}):Object(g.jsx)(w,{})})})}s(169);var ce=s(116),ne=s.n(ce),re=s(71),ie=s(216),le=s(213),oe=s(214),ue=s(53),je=s.n(ue),de={position:"relative",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3};function be(e){var t=e.post,s=e.deletePost,n=e.socket,r=Object(a.useState)(t.likes.length),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(a.useState)(!1),d=Object(i.a)(j,2),b=d[0],p=d[1],h=Object(a.useState)({}),O=Object(i.a)(h,2),m=O[0],x=O[1],v="http://localhost:8000/images/",N=Object(a.useContext)(I).user;Object(a.useEffect)((function(){p(t.likes.includes(N._id))}),[N._id,t.likes]),Object(a.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.get("/users?userId=".concat(t.userId));case 2:s=e.sent,x(s.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t.userId]);var w=function(){var e=Object(Q.a)(z.a.mark((function e(s){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1===s){try{X.a.put("/posts/"+t._id+"/like",{userId:N._id})}catch(c){}p(!b),u(b?o-1:o+1)}null===n||void 0===n||null===(a=n.current)||void 0===a||a.emit("sendNotification",{senderName:N.username,receiverId:t.userId,type:s||1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var k=Object(a.useState)(!1),C=Object(i.a)(k,2),S=C[0],L=C[1],U=function(){L(!1)};return Object(g.jsx)("div",{className:"post",children:Object(g.jsxs)("div",{className:"postWrapper",children:[Object(g.jsxs)("div",{className:"postTop",children:[Object(g.jsxs)("div",{className:"postTopLeft",children:[Object(g.jsx)(y.b,{to:"Profile/".concat(m.username),children:Object(g.jsx)("img",{className:"postProfileImg",src:m.profilePicture?v+m.profilePicture:v+"search.png",alt:""})}),Object(g.jsx)("span",{className:"postUserName",children:m.username}),Object(g.jsx)("span",{className:"postDate",children:Object(re.a)(t.createdAt)})]}),Object(g.jsxs)("div",{className:"postTopRight",children:[Object(g.jsx)(c.a.Fragment,{children:Object(g.jsx)(le.a,{hideBackdrop:!0,open:S,onClose:U,"aria-labelledby":"child-modal-title","aria-describedby":"child-modal-description",children:Object(g.jsxs)(ie.a,{sx:Object(f.a)(Object(f.a)({},de),{},{width:400}),children:[Object(g.jsx)("h2",{id:"child-modal-title",children:"Do you want to delete this post?"}),Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(g.jsx)(oe.a,{variant:"outlined",onClick:function(){return function(){try{X.a.put("/posts/update/".concat(t._id),{userId:N._id})}catch(e){console.log(e)}s()}()},children:"Yes"}),Object(g.jsx)(oe.a,{variant:"outlined",onClick:U,children:"No"})]}),Object(g.jsx)(je.a,{style:{position:"absolute",top:"0%",right:"0%"},onClick:U})]})})}),Object(g.jsx)(ne.a,{onClick:function(){L(!0)},className:"moreVert"})]})]}),Object(g.jsxs)("div",{className:"postCenter",children:[Object(g.jsx)("span",{className:"postText",children:null===t||void 0===t?void 0:t.desc}),Object(g.jsx)("img",{className:"postImg",src:v+t.img,alt:""})]}),Object(g.jsxs)("div",{className:"postBottom",children:[Object(g.jsxs)("div",{className:"postBottomLeft",children:[Object(g.jsx)("img",{className:"likeIcon",src:"".concat(v,"like.png"),onClick:function(){return w("1")},alt:""}),Object(g.jsx)("img",{className:"heartIcon",src:"".concat(v,"heart.png"),onClick:function(){return w("2")},alt:""}),Object(g.jsxs)("span",{className:"likeCounter",children:[o," people liked it"]})]}),Object(g.jsx)("div",{className:"postBottomRight",children:Object(g.jsxs)("span",{className:"postCommentText",onClick:function(){return w("3")},children:[t.comment," comments"]})})]})]})})}s(170);var pe=s(117),he=s.n(pe),Oe=s(118),me=s.n(Oe),xe=s(119),fe=s.n(xe),ve=s(120),ge=s.n(ve),Ne=(s(171),{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,pt:2,px:4,pb:3}),Ie=function(e){var t=e.file,s=e.setFile,a=c.a.useState(!1),n=Object(i.a)(a,2),r=n[0],l=n[1];return Object(g.jsxs)(c.a.Fragment,{children:[Object(g.jsx)(oe.a,{onClick:function(){l(!0)},children:"View"}),Object(g.jsx)(le.a,{open:r,onClose:function(){l(!1)},"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:Object(g.jsx)(ie.a,{sx:Object(f.a)(Object(f.a)({},Ne),{},{width:400}),children:Object(g.jsxs)("div",{className:"shareImgContainer",children:[Object(g.jsx)("img",{className:"shareImg",src:URL.createObjectURL(t),alt:""}),Object(g.jsx)(je.a,{className:"shareCancelImg",onClick:function(){return s(null)}})]})})})]})};function we(){var e=Object(a.useContext)(I).user,t="http://localhost:8000/images/",s=Object(a.useRef)(),c=Object(a.useState)(null),n=Object(i.a)(c,2),r=n[0],l=n[1],o=function(){var t=Object(Q.a)(z.a.mark((function t(a){var c,n,i;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),c={userId:e._id,desc:s.current.value+""},!r){t.next=16;break}return n=new FormData,i=Date.now()+r.name,n.append("name",i),n.append("file",r),c.img=i,console.log(c),t.prev=9,t.next=12,X.a.post("/upload",n);case 12:t.next=16;break;case 14:t.prev=14,t.t0=t.catch(9);case 16:return t.prev=16,t.next=19,X.a.post("/posts",c);case 19:window.location.reload(),t.next=24;break;case 22:t.prev=22,t.t1=t.catch(16);case 24:case"end":return t.stop()}}),t,null,[[9,14],[16,22]])})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"share",children:Object(g.jsxs)("div",{className:"shareWrapper",children:[Object(g.jsxs)("div",{className:"shareTop",children:[Object(g.jsx)("img",{className:"shareProfileImg",src:e.profilePicture?t+e.profilePicture:t+"search.png",alt:""}),Object(g.jsx)("input",{placeholder:"What's in your mind "+e.username+"?",className:"shareInput",ref:s})]}),Object(g.jsx)("hr",{className:"shareHr"}),r&&Object(g.jsx)(Ie,{file:r,setFile:l}),Object(g.jsxs)("form",{className:"shareBottom",onSubmit:o,children:[Object(g.jsxs)("div",{className:"shareOptions",children:[Object(g.jsxs)("label",{htmlFor:"file",className:"shareOption",children:[Object(g.jsx)(he.a,{htmlColor:"tomato",className:"shareIcon"}),Object(g.jsx)("span",{className:"shareOptionText",children:"Photo or Video"}),Object(g.jsx)("input",{style:{display:"none"},type:"file",id:"file",accept:".png,.jpeg,.jpg",onChange:function(e){return l(e.target.files[0])}})]}),Object(g.jsxs)("div",{className:"shareOption",children:[Object(g.jsx)(me.a,{htmlColor:"blue",className:"shareIcon"}),Object(g.jsx)("span",{className:"shareOptionText",children:"Tag"})]}),Object(g.jsxs)("div",{className:"shareOption",children:[Object(g.jsx)(fe.a,{htmlColor:"green",className:"shareIcon"}),Object(g.jsx)("span",{className:"shareOptionText",children:"Location"})]}),Object(g.jsxs)("div",{className:"shareOption",children:[Object(g.jsx)(ge.a,{htmlColor:"goldenrod",className:"shareIcon"}),Object(g.jsx)("span",{className:"shareOptionText",children:"Feelings"})]})]}),Object(g.jsx)("button",{className:"shareButton",type:"submit",children:"Share"})]})]})})}s(172);function ke(e){var t=e.username,s=e.text,c=e.socket,n=Object(a.useState)([]),r=Object(i.a)(n,2),l=r[0],o=r[1],u=Object(a.useContext)(I).user;Object(a.useEffect)((function(){j()}),[t,u._id]);var j=function(){var e=Object(Q.a)(z.a.mark((function e(){var s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,X.a.get("/posts/profile/"+t);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,X.a.get("/posts/timeline/"+u._id);case 8:e.t0=e.sent;case 9:s=e.t0,o(s.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function d(){j()}return Object(g.jsx)("div",{className:"feed",children:Object(g.jsxs)("div",{className:"feedWrapper",children:[(!t||t===u.username)&&Object(g.jsx)(we,{}),l.filter((function(e){return void 0===s||e.desc.toLowerCase().includes(s.toLowerCase())?e:null})).map((function(e){return Object(g.jsx)(be,{post:e,deletePost:d,socket:c},e._id)}))]})})}s(173);function ye(e){var t=e.socket,s=Object(a.useState)(""),c=Object(i.a)(s,2),n=c[0],r=c[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C,{text:n,setText:r,socket:t}),Object(g.jsxs)("div",{className:"homeContainer",children:[Object(g.jsx)(H,{}),Object(g.jsx)(ke,{text:n,socket:t}),Object(g.jsx)(ae,{socket:t})]})]})}s(174);var Ce=function(){var e=Object(Q.a)(z.a.mark((function e(t,s){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"LOGIN_START"}),e.prev=1,e.next=4,X.a.post("auth/login",t);case 4:a=e.sent,s({type:"LOGIN_SUCCESS",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"LOGIN_FAILURE",payload:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,s){return e.apply(this,arguments)}}(),Se=s(218);function Le(){var e=Object(a.useRef)(),t=Object(a.useRef)(),s=Object(a.useContext)(I),c=s.user,n=s.isFetching,r=s.dispatch;return console.log(c),Object(g.jsx)("div",{className:"login",children:Object(g.jsxs)("div",{className:"loginWrapper",children:[Object(g.jsxs)("div",{className:"loginLeft",children:[Object(g.jsx)("h3",{className:"loginLogo",children:"SocialBook"}),Object(g.jsx)("span",{className:"loginDesc",children:"The Book helps to connect you with the world... SocialBook"})]}),Object(g.jsx)("div",{className:"loginRight",children:Object(g.jsxs)("form",{className:"loginBox",onSubmit:function(s){s.preventDefault(),Ce({email:e.current.value,password:t.current.value},r)},children:[Object(g.jsx)("input",{placeholder:"email",type:"email",required:!0,className:"loginInput",ref:e}),Object(g.jsx)("input",{placeholder:"password",type:"password",minLength:"6",required:!0,className:"loginInput",ref:t}),Object(g.jsx)("button",{className:"loginButton",disabled:n,children:n?Object(g.jsx)(Se.a,{color:"inherit",size:"20px"}):"Log In"}),Object(g.jsx)("span",{className:"loginForgot",children:"Forgot Password"}),Object(g.jsx)("button",{className:"loginRegisterButton",disabled:n,children:n?Object(g.jsx)(Se.a,{color:"inherit",size:"20px"}):"create a new account"})]})})]})})}s(175);function Ue(){var e="http://localhost:8000/images/",t=Object(a.useState)({}),s=Object(i.a)(t,2),c=s[0],n=s[1],r=Object(k.h)().pathname.split("/")[2],l=Object(a.useContext)(I).user;return Object(a.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.get("/users?userId=".concat(r));case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C,{}),Object(g.jsxs)("div",{className:"profile",children:[Object(g.jsx)(H,{}),Object(g.jsxs)("div",{className:"profileRight",children:[Object(g.jsxs)("div",{className:"profileRightTop",children:[Object(g.jsxs)("div",{className:"profileCover",children:[Object(g.jsx)("img",{className:"profileCoverImg",src:c.coverPicture?e+c.coverPicture:e+"search.png",alt:""}),c._id===l._id?Object(g.jsx)(y.b,{to:"/updateProfile/"+c._id,children:Object(g.jsx)("img",{className:"profileUserImg",src:c.profilePicture?e+c.profilePicture:e+"noprofile.pg",alt:""})}):Object(g.jsx)("img",{className:"profileUserImg",src:c.profilePicture?e+c.profilePicture:e+"noprofile.pg",alt:""})]}),Object(g.jsxs)("div",{className:"profileInfo",children:[Object(g.jsx)("h4",{className:"profileInfoName",children:c.username}),Object(g.jsx)("span",{className:"profileInfoDesc",children:c.desc})]})]}),Object(g.jsxs)("div",{className:"profileRightBottom",children:[Object(g.jsx)(ke,{username:c.username}),Object(g.jsx)(ae,{user:c})]})]})]})]})}s(176);function _e(){var e=Object(a.useRef)(),t=Object(a.useRef)(),s=Object(a.useRef)(),c=Object(a.useRef)(),n=Object(k.g)(),r=function(){var a=Object(Q.a)(z.a.mark((function a(r){var i;return z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),c.current.value===s.current.value){a.next=5;break}s.current.setCustomValidity("Password dont match!!"),a.next=15;break;case 5:return i={username:e.current.value,email:t.current.value,password:s.current.value},a.prev=6,a.next=9,X.a.post("/auth/register",i);case 9:n.push("/login"),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(6),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[6,12]])})));return function(e){return a.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"login",children:Object(g.jsxs)("div",{className:"loginWrapper",children:[Object(g.jsxs)("div",{className:"loginLeft",children:[Object(g.jsx)("h3",{className:"loginLogo",children:"SocialBook"}),Object(g.jsx)("span",{className:"loginDesc",children:"The Book helps to connect you with the world... SocialBook"})]}),Object(g.jsx)("div",{className:"loginRight",children:Object(g.jsxs)("form",{className:"loginBox",onSubmit:r,children:[Object(g.jsx)("input",{placeholder:"Username",required:!0,ref:e,className:"loginInput"}),Object(g.jsx)("input",{placeholder:"email",required:!0,ref:t,type:"email",className:"loginInput"}),Object(g.jsx)("input",{placeholder:"password",minLength:"6",required:!0,ref:s,type:"password",className:"loginInput"}),Object(g.jsx)("input",{placeholder:"password",minLength:"6",required:!0,ref:c,type:"password",className:"loginInput"}),Object(g.jsx)("button",{className:"loginButton",type:"submit",children:"Sign In"}),Object(g.jsx)("button",{className:"loginRegisterButton",children:Object(g.jsx)(y.b,{to:"/login",children:"Log in TO your ACCOUNT"})})]})})]})})}s(177),s(178);function Pe(e){var t=e.conversation,s=e.currentUser,c=Object(a.useState)(null),n=Object(i.a)(c,2),r=n[0],l=n[1],o="http://localhost:8000/images/";return Object(a.useEffect)((function(){var e=t.members.find((function(e){return e!==s._id}));console.log(e);var a=function(){var t=Object(Q.a)(z.a.mark((function t(){var s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.a.get("/users?userId="+e);case 3:s=t.sent,l(s.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();a()}),[s,t]),Object(g.jsxs)("div",{className:"conversation",children:[Object(g.jsx)("img",{className:"conversationImg",src:(null===r||void 0===r?void 0:r.profilePicture)?o+r.profilePicture:o+"person/noAvatar.png",alt:""}),Object(g.jsx)("span",{className:"conversationName",children:null===r||void 0===r?void 0:r.username})]})}s(179);function Te(e){var t=e.message,s=e.own,c=e.friend,n="http://localhost:8000/images/",r=Object(a.useState)([]),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(a.useContext)(I).user;return Object(a.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.get("/users?userId=".concat(c&&c));case 2:t=e.sent,u(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(g.jsxs)("div",{className:s?"message own":"message",children:[Object(g.jsxs)("div",{className:"messageTop",children:[Object(g.jsx)("img",{className:"messageImg",src:s?n+j.profilePicture:n+o.profilePicture,alt:""}),Object(g.jsx)("p",{className:"messageText",children:t.text})]}),Object(g.jsx)("div",{className:"messageBottom",children:Object(re.a)(t.createdAt)})]})}function Fe(e){var t=e.socket,s=Object(a.useState)([]),c=Object(i.a)(s,2),n=c[0],r=c[1],o=Object(a.useState)(null),u=Object(i.a)(o,2),j=u[0],d=u[1],b=Object(a.useState)([]),p=Object(i.a)(b,2),h=p[0],O=p[1],m=Object(a.useState)(""),x=Object(i.a)(m,2),f=x[0],v=x[1],N=Object(a.useState)(null),w=Object(i.a)(N,2),k=w[0],y=w[1],S=Object(a.useState)([]),L=Object(i.a)(S,2),U=L[0],_=L[1],P=Object(a.useContext)(I).user,T=Object(a.useRef)();Object(a.useEffect)((function(){null===t||void 0===t||t.current.on("getMessage",(function(e){y({sender:e.senderId,text:e.text,createdAt:Date.now()})}))}),[t]),Object(a.useEffect)((function(){k&&(null===j||void 0===j?void 0:j.members.includes(k.sender))&&O((function(e){return[].concat(Object(l.a)(e),[k])}))}),[k,j]),Object(a.useEffect)((function(){null===t||void 0===t||t.current.on("getUsers",(function(e){_(P.followings.filter((function(t){return e.some((function(e){return e.userId===t}))})))}))}),[P]),Object(a.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/conversations/"+P._id);case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[P._id]),Object(a.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/messages/"+(null===j||void 0===j?void 0:j._id));case 3:t=e.sent,O(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[j]);var F=function(){var e=Object(Q.a)(z.a.mark((function e(s){var a,c,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),a={sender:P._id,text:f,conversationId:j._id},c=j.members.find((function(e){return e!==P._id})),null===t||void 0===t||t.current.emit("sendMessage",{senderId:P._id,receiverId:c,text:f}),e.prev=4,e.next=7,X.a.post("/messages",a);case 7:n=e.sent,O([].concat(Object(l.a)(h),[n.data])),v(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e;null===(e=T.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[h]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C,{}),Object(g.jsxs)("div",{className:"messenger",children:[Object(g.jsx)("div",{className:"chatMenu",children:Object(g.jsxs)("div",{className:"chatMenuWrapper",children:[Object(g.jsx)("input",{placeholder:"Search for friends",className:"chatMenuInput"}),n.map((function(e){return Object(g.jsx)("div",{onClick:function(){return d(e)},children:Object(g.jsx)(Pe,{conversation:e,currentUser:P})})}))]})}),Object(g.jsx)("div",{className:"chatBox",children:Object(g.jsx)("div",{className:"chatBoxWrapper",children:j?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"chatBoxTop",children:h.map((function(e){return Object(g.jsx)("div",{ref:T,children:Object(g.jsx)(Te,{message:e,own:e.sender===P._id,friend:e.sender!==P._id&&e.sender})})}))}),Object(g.jsxs)("div",{className:"chatBoxBottom",children:[Object(g.jsx)("textarea",{className:"chatMessageInput",placeholder:"write something...",onChange:function(e){return v(e.target.value)},value:f}),Object(g.jsx)("button",{className:"chatSubmitButton",onClick:F,children:"Send"})]})]}):Object(g.jsx)("span",{className:"noConversationText",children:"Open a conversation to start a chat."})})}),Object(g.jsx)("div",{className:"chatOnline",children:Object(g.jsx)("div",{className:"chatOnlineWrapper",children:Object(g.jsx)(Z,{onlineUsers:U,currentId:P._id,setCurrentChat:d})})})]})]})}s(180),s(181);var Re=s(121),Be=s.n(Re),Ee=function(e){var t,s=e.userc,c=Object(a.useContext)(I).user,n=Object(a.useRef)(),r=Object(a.useRef)(),l=Object(a.useRef)(),o=Object(a.useRef)(),u=Object(a.useRef)(),j=Object(a.useContext)(I).dispatch;t=1===s.relationship?"single":2===s.relationship?"married":"others";var d="http://localhost:8000/images/",b=Object(a.useState)(null),p=Object(i.a)(b,2),h=p[0],O=p[1],m=function(){var e=Object(Q.a)(z.a.mark((function e(t){var a,i,o,d;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={username:n.current.value?n.current.value:s.username,city:r.current.value?r.current.value:s.city,desc:l.current.value?l.current.value:s.desc,relation:u.current.value?u.current.value:s.relationship,userId:s._id},!h){e.next=16;break}return i=new FormData,o=Date.now()+h.name,i.append("name",o),i.append("file",h),a.profilePicture=o,e.prev=8,e.next=11,X.a.post("/upload",i);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.log(e.t0);case 16:return e.prev=16,e.next=19,X.a.put("/users/"+c._id,a);case 19:return e.prev=19,e.next=22,X.a.get("/users?userId=".concat(s._id));case 22:d=e.sent,j({type:"UPDATE_USER",payload:d.data}),e.next=28;break;case 26:e.prev=26,e.t1=e.catch(19);case 28:window.location.reload(),e.next=33;break;case 31:e.prev=31,e.t2=e.catch(16);case 33:case"end":return e.stop()}}),e,null,[[8,13],[16,31],[19,26]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)("div",{className:"updateUser",children:Object(g.jsxs)("div",{className:"updateUserWrapper",children:[Object(g.jsxs)("div",{className:"updateUserTop",children:[Object(g.jsxs)("div",{className:"updateUserTopLeft",children:[Object(g.jsx)("h1",{className:"userDetailsText",children:"User Details"}),Object(g.jsxs)("div",{className:"updateUserItem",children:[Object(g.jsx)("label",{className:"updateUserKey",children:"Username:-"}),Object(g.jsx)("span",{className:"updateUserValue",children:s.username})]}),Object(g.jsxs)("div",{className:"updateUserItem",children:[Object(g.jsx)("label",{className:"updateUserKey",children:"From:-"}),Object(g.jsx)("span",{className:"updateUserValue",children:s.city})]}),Object(g.jsxs)("div",{className:"updateUserItem",children:[Object(g.jsx)("label",{className:"updateUserKey",children:"Desc:-"}),Object(g.jsx)("span",{className:"updateUserValue",children:s.desc})]}),Object(g.jsxs)("div",{className:"updateUserItem",children:[Object(g.jsx)("label",{className:"updateUserKey",children:"RelationShip Stats:-"}),Object(g.jsx)("span",{className:"updateUserValue",children:t})]})]}),Object(g.jsx)("div",{className:"updateUserTopRight",children:Object(g.jsx)("img",{src:s.profilePicture?d+s.profilePicture:d+"noprofile.jpg",alt:"",className:"imgContainer"})})]}),Object(g.jsx)("hr",{className:"updateHr"}),Object(g.jsxs)("form",{className:"updateUserBottom",onSubmit:m,children:[Object(g.jsxs)("div",{className:"updateUserBottomLeft",children:[Object(g.jsx)("input",{type:"text",placeholder:"change username..",className:"inputChange",ref:n}),Object(g.jsx)("input",{type:"text",placeholder:"change desc..",className:"inputChange",ref:l}),Object(g.jsx)("input",{type:"text",placeholder:"change Address..",className:"inputChange",ref:r}),Object(g.jsx)("input",{type:"password",placeholder:"change Password..",className:"inputChange",ref:o}),Object(g.jsxs)("div",{className:"radioContainer",id:"relation",ref:u,children:[Object(g.jsxs)("label",{className:"input Label",children:[Object(g.jsx)("input",{type:"radio",id:"1",name:"inputRadio",value:"1",className:"inputRadio"}),"Single"]}),Object(g.jsxs)("label",{className:"input Label",children:[Object(g.jsx)("input",{type:"radio",id:"2",value:"2",name:"inputRadio",className:"inputRadio"}),"Married"]}),Object(g.jsxs)("label",{className:"input Label",children:[Object(g.jsx)("input",{type:"radio",id:"3",value:"3",name:"inputRadio",className:"inputRadio"}),"Complex"]})]}),Object(g.jsx)("button",{className:"updateButton",type:"submit",children:"Update"})]}),Object(g.jsxs)("label",{htmlFor:"file",className:"updateUserBottomRight",children:[h&&Object(g.jsxs)("div",{className:"fileImgContainer",children:[Object(g.jsx)("img",{className:"shareImg",src:URL.createObjectURL(h),alt:""}),Object(g.jsx)(je.a,{className:"shareCancelImg",onClick:function(){return O(null)}})]}),Object(g.jsx)("input",{type:"file",id:"file",style:{display:"none"},accept:".jpg,.jpeg,.png",onChange:function(e){return O(e.target.files[0])}}),Object(g.jsx)(Be.a,{className:"registerIconAdd"})]})]})]})})},De=function(){var e=Object(k.h)().pathname.split("/")[2],t=Object(a.useState)([]),s=Object(i.a)(t,2),c=s[0],n=s[1];return Object(a.useEffect)((function(){var t=function(){var t=Object(Q.a)(z.a.mark((function t(){var s;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,X.a.get("/users?userId=".concat(e));case 2:s=t.sent,n(s.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(g.jsxs)("div",{className:"updateProfile",children:[Object(g.jsx)(C,{}),Object(g.jsx)(Ee,{userc:c})]})},Ae=(s(182),s(217)),We=function(){var e="http://localhost:8000/images/",t=Object(a.useState)("first"),s=Object(i.a)(t,2),c=s[0],n=s[1],r=Object(a.useState)([]),l=Object(i.a)(r,2),o=l[0],u=l[1],j=Object(a.useContext)(I).user;Object(a.useEffect)((function(){var e=function(){var e=Object(Q.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.a.get("/users/all");case 2:t=e.sent,u(t.data.filter((function(e){return e._id!==j._id})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C,{}),Object(g.jsxs)("div",{classNameName:"tagUser",children:[Object(g.jsx)("h1",{children:"Search Users"}),Object(g.jsxs)("form",{className:"searchUserBody",onSubmit:function(e){e.preventDefault();var t=o.filter((function(e){return e.username===c}));u(t)},children:[Object(g.jsx)("input",{className:"searchuser",value:c,onChange:function(e){return n(e.target.value)}}),Object(g.jsx)("button",{type:"submit",children:"search"})]}),Object(g.jsx)("div",{children:null===o||void 0===o?void 0:o.map((function(t){return Object(g.jsxs)(y.b,{to:"/profile/".concat(t._id),children:["  ",Object(g.jsxs)("div",{className:"tagUserEdit",children:[Object(g.jsx)(Ae.a,{alt:t.username,src:t.profilePicture?e+t.profilePicture:e+"search.png"}),Object(g.jsx)("span",{children:t.username})]})]})}))})]})]})},Ve=s(125);var Me=function(){var e=Object(a.useContext)(I).user,t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=Object(Ve.a)("ws://localhost:8900")}),[]),Object(a.useEffect)((function(){null===t||void 0===t||t.current.emit("addUser",null===e||void 0===e?void 0:e._id)}),[t,e]),Object(g.jsx)(y.a,{children:Object(g.jsxs)(k.d,{children:[Object(g.jsx)(k.b,{exact:!0,path:"/",children:e?Object(g.jsx)(ye,{socket:t}):Object(g.jsx)(_e,{})}),Object(g.jsx)(k.b,{path:"/login",children:e?Object(g.jsx)(k.a,{to:"/"}):Object(g.jsx)(Le,{})}),Object(g.jsx)(k.b,{path:"/register",children:e?Object(g.jsx)(k.a,{to:"/"}):Object(g.jsx)(_e,{})}),Object(g.jsx)(k.b,{path:"/messenger",children:e?Object(g.jsx)(Fe,{socket:t}):Object(g.jsx)(k.a,{to:"/"})}),Object(g.jsx)(k.b,{path:"/profile/:userId",children:Object(g.jsx)(Ue,{})}),Object(g.jsx)(k.b,{path:"/updateProfile/:userId",children:Object(g.jsx)(De,{})}),Object(g.jsx)(k.b,{path:"/searchUser",children:Object(g.jsx)(We,{})})]})})};r.a.render(Object(g.jsx)(w,{children:Object(g.jsx)(Me,{})}),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.78116f94.chunk.js.map